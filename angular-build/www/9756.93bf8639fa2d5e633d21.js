(self.webpackChunksmart_urban_farm=self.webpackChunksmart_urban_farm||[]).push([[9756],{9756:(t,e,i)=>{"use strict";i.r(e),i.d(e,{CiclosPageModule:()=>q});var n=i(1116),o=i(1462),r=i(6498),a=i(6687),d=i(5366),s=i(3957);function c(t,e){if(1&t&&(d.TgZ(0,"option",32),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.s9C("value",t.id),d.xp6(1),d.Oqu(t.description)}}function Z(t,e){if(1&t&&(d.TgZ(0,"option",32),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.s9C("value",t.id),d.xp6(1),d.Oqu(t.description)}}function g(t,e){1&t&&(d.TgZ(0,"span"),d._uU(1,"SI"),d.qZA())}function l(t,e){1&t&&(d.TgZ(0,"span"),d._uU(1,"NO"),d.qZA())}function u(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",33),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d.YNc(12,g,2,0,"span",34),d.YNc(13,l,2,0,"span",34),d.qZA(),d.TgZ(14,"td"),d._uU(15),d.qZA(),d.TgZ(16,"td"),d.TgZ(17,"button",35),d.NdJ("click",function(){const e=d.CHM(t).$implicit,i=d.oxw();return i.item=e,i.edit=!0}),d._UZ(18,"i",36),d.qZA(),d.TgZ(19,"button",37),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().delete(e.id)}),d._UZ(20,"i",38),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit,i=d.oxw();d.xp6(2),d.Oqu(t.id),d.xp6(2),d.Oqu(i.greenhouse(t.greenhouse_id)),d.xp6(2),d.Oqu(i.crop(t.crop_id)),d.xp6(2),d.Oqu(t.init_date),d.xp6(2),d.Oqu(t.end_date),d.xp6(2),d.Q6J("ngIf",t.active),d.xp6(1),d.Q6J("ngIf",!t.active),d.xp6(2),d.Oqu(t.observations)}}const p=[{path:"",component:(()=>{class t{constructor(t){this.api=t,this.endpoint="/cropcycle",this.edit=!1,this.item={}}ngOnInit(){const t=new Date,e=1===(t.getMonth()+1).toString().length?`0${t.getMonth()+1}`:`${t.getMonth()+1}`,i=1===t.getDate().toString().length?`0${t.getDate()}`:`${t.getDate()}`,n=t.getFullYear();this.item.init_date=`${n}-${e}-${i}`,this.item.end_date=`${n}-${e}-${i}`,this.index(),this.indexCrops(),this.indexGreenHouses()}index(){this.api.get(this.endpoint).toPromise().then(t=>{this.data=t})}indexCrops(){this.api.get("/crop").toPromise().then(t=>{this.dataCrops=t})}indexGreenHouses(){this.api.get("/greenhouse").toPromise().then(t=>{this.dataGreenHouses=t})}create(){this.api.post(this.endpoint,this.item).toPromise().then(t=>{this.item={},this.index()})}update(){this.api.put(this.endpoint+"/"+this.item.id,this.item).toPromise().then(t=>{this.item={},this.edit=!1,this.index()})}delete(t){this.api.delete(this.endpoint+"/"+t).toPromise().then(t=>{this.index()})}save(){this.edit?this.update():this.create()}crop(t){if(this.dataCrops)return this.dataCrops.filter(e=>e.id===t)[0].description}greenhouse(t){if(this.dataGreenHouses)return this.dataGreenHouses.filter(e=>e.id===t)[0].description}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(s.s))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-ciclos"]],decls:77,vars:9,consts:[[1,"container-fluid","mt-4"],[1,"welcome-card"],["color","primary"],[1,"row","mt-2"],[1,"col-4"],[1,"row"],[1,"col-6"],[1,"form-floating","mb-3"],["name","","id","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","floatingInput"],[1,"col-6","mb-3"],[1,"input-group"],["presentation","year-month",1,"form-control",3,"ngModel","ngModelChange"],["type","button","id","open-modal",1,"btn","btn-outline-secondary"],[1,"fa","fa-calendar"],[1,"col-9","mt-2"],[1,"form-group","row"],["for","",1,"col-form-label","col-4"],[1,"col-8"],["name","","id","","cols","30","rows","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3"],[1,"form-check","row"],["type","checkbox","id","flexCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexCheckDefault",1,"form-check-label"],["type","button",1,"btn","btn-block","btn-primary",3,"click"],[1,"col"],[1,"table-responsive-md"],[1,"table","table-hover"],[1,"bg-black","text-light","p-1"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],["scope","row"],[4,"ngIf"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"class","fa","fa-edit"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"class","fa","fa-trash"]],template:function(t,e){1&t&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-title"),d._uU(3,"ciclos"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(4,"ion-content"),d.TgZ(5,"div",0),d.TgZ(6,"ion-card",1),d.TgZ(7,"ion-card-header",2),d.TgZ(8,"ion-card-title"),d._uU(9,"Gesti\xf3n de Ciclos de Cultivo"),d.qZA(),d._UZ(10,"ion-card-subtitle"),d.qZA(),d.TgZ(11,"ion-card-content"),d.TgZ(12,"div",3),d.TgZ(13,"div",4),d.TgZ(14,"div",5),d.TgZ(15,"div",6),d.TgZ(16,"div",7),d.TgZ(17,"select",8),d.NdJ("ngModelChange",function(t){return e.item.crop_id=t}),d.YNc(18,c,2,2,"option",9),d.qZA(),d.TgZ(19,"label",10),d._uU(20,"Cultivo"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"div",6),d.TgZ(22,"div",7),d.TgZ(23,"select",8),d.NdJ("ngModelChange",function(t){return e.item.greenhouse_id=t}),d.YNc(24,Z,2,2,"option",9),d.qZA(),d.TgZ(25,"label",10),d._uU(26,"Invernadero"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(27,"div",11),d.TgZ(28,"label",10),d._uU(29,"Fecha Inicial"),d.qZA(),d.TgZ(30,"div",12),d.TgZ(31,"ion-datetime",13),d.NdJ("ngModelChange",function(t){return e.item.init_date=t}),d.qZA(),d.TgZ(32,"button",14),d._UZ(33,"i",15),d.qZA(),d.qZA(),d.qZA(),d.TgZ(34,"div",11),d.TgZ(35,"label",10),d._uU(36,"Fecha Final"),d.qZA(),d.TgZ(37,"div",12),d.TgZ(38,"ion-datetime",13),d.NdJ("ngModelChange",function(t){return e.item.end_date=t}),d.qZA(),d.TgZ(39,"button",14),d._UZ(40,"i",15),d.qZA(),d.qZA(),d.qZA(),d.TgZ(41,"div",16),d.TgZ(42,"div",17),d.TgZ(43,"label",18),d._uU(44,"Observ."),d.qZA(),d.TgZ(45,"div",19),d.TgZ(46,"textarea",20),d.NdJ("ngModelChange",function(t){return e.item.observations=t}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(47,"div",21),d.TgZ(48,"div",22),d.TgZ(49,"input",23),d.NdJ("ngModelChange",function(t){return e.item.active=t}),d.qZA(),d.TgZ(50,"label",24),d._uU(51," Estado "),d.qZA(),d.qZA(),d.TgZ(52,"button",25),d.NdJ("click",function(){return e.save()}),d._uU(53," Guardar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(54,"div",26),d.TgZ(55,"div",27),d.TgZ(56,"table",28),d.TgZ(57,"thead",29),d.TgZ(58,"tr"),d.TgZ(59,"th",30),d._uU(60,"Id"),d.qZA(),d.TgZ(61,"th",30),d._uU(62,"Invernadero"),d.qZA(),d.TgZ(63,"th",30),d._uU(64,"Cultivo"),d.qZA(),d.TgZ(65,"th",30),d._uU(66,"Fecha Ini"),d.qZA(),d.TgZ(67,"th",30),d._uU(68,"Fecha Fin"),d.qZA(),d.TgZ(69,"th",30),d._uU(70,"Estado"),d.qZA(),d.TgZ(71,"th",30),d._uU(72,"Observaciones"),d.qZA(),d.TgZ(73,"th",30),d._uU(74,"Acciones"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(75,"tbody"),d.YNc(76,u,21,8,"tr",31),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(17),d.Q6J("ngModel",e.item.crop_id),d.xp6(1),d.Q6J("ngForOf",e.dataCrops),d.xp6(5),d.Q6J("ngModel",e.item.greenhouse_id),d.xp6(1),d.Q6J("ngForOf",e.dataGreenHouses),d.xp6(7),d.Q6J("ngModel",e.item.init_date),d.xp6(7),d.Q6J("ngModel",e.item.end_date),d.xp6(8),d.Q6J("ngModel",e.item.observations),d.xp6(3),d.Q6J("ngModel",e.item.active),d.xp6(27),d.Q6J("ngForOf",e.data))},directives:[r.Gu,r.sr,r.wd,r.W2,r.PM,r.Zi,r.gZ,r.tO,r.FN,o.EJ,o.JJ,o.On,n.sg,r.x4,r.QI,o.Fj,o.Wl,o.YN,o.Kr,n.O5],styles:[""]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[a.Bz.forChild(p)],a.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[n.ez,o.u5,r.Pc,h]]}),t})()}}]);