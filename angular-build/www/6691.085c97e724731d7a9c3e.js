(self.webpackChunksmart_urban_farm=self.webpackChunksmart_urban_farm||[]).push([[6691],{6691:(n,t,e)=>{"use strict";e.r(t),e.d(t,{LoginPageModule:()=>f});var o=e(1116),r=e(1462),i=e(6498),s=e(6687),a=e(3361),c=e(5366),l=e(2590),u=e(4762);let g=(()=>{class n{constructor(n){this.alertController=n}presentAlertConfirm(n,t,e,o){return(0,u.mG)(this,void 0,void 0,function*(){const r=yield this.alertController.create({header:`${n}`,message:`${t}`,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:o},{text:"Aceptar",handler:e}]});yield r.present()})}presentAlert(n,t,e){return(0,u.mG)(this,void 0,void 0,function*(){const o=yield this.alertController.create({header:n,subHeader:t,message:e,buttons:["OK"]});yield o.present(),yield o.onDidDismiss()})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(i.Br))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d(n,t){if(1&n){const n=c.EpF();c.ynx(0),c.TgZ(1,"ion-content",2),c.TgZ(2,"div",3),c._UZ(3,"img",4),c.TgZ(4,"ion-card",5),c.TgZ(5,"ion-card-content"),c.TgZ(6,"ion-item"),c.TgZ(7,"ion-input",6),c.NdJ("ngModelChange",function(t){return c.CHM(n),c.oxw().user.username=t}),c.qZA(),c.qZA(),c.TgZ(8,"ion-item"),c.TgZ(9,"ion-input",7),c.NdJ("ngModelChange",function(t){return c.CHM(n),c.oxw().user.password=t}),c.qZA(),c.qZA(),c.TgZ(10,"ion-button",8),c.NdJ("click",function(){return c.CHM(n),c.oxw().login()}),c._uU(11," Iniciar sesi\xf3n "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.BQk()}if(2&n){const n=c.oxw();c.xp6(7),c.Q6J("ngModel",n.user.username),c.xp6(2),c.Q6J("ngModel",n.user.password)}}function p(n,t){1&n&&(c.TgZ(0,"ion-content"),c.TgZ(1,"ion-row",9),c.TgZ(2,"ion-col"),c._uU(3," Cargando... "),c._UZ(4,"img",10),c.qZA(),c.qZA(),c.qZA())}const h=[{path:"",component:(()=>{class n{constructor(n,t,e){this.auth=n,this.navCtrl=t,this.alert=e,this.solved=!0,this.user=new a.n(null)}ngOnInit(){this.auth.getUserState().subscribe(n=>{n&&(this.user=n,this.navCtrl.navigateRoot("/monitoring"))}),this.auth.verifyState()}login(){null!=this.user.username&&""!=this.user.username&&null!=this.user.password&&""!=this.user.password&&this.auth.login(this.user.username,this.user.password).then(n=>{this.navCtrl.navigateRoot("monitoring")},n=>{this.alert.presentAlert("Error!","Login fallido",401==n.status?"Usuario o contrase\xf1a incorrectos.":JSON.stringify(n))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(l.e),c.Y36(i.SH),c.Y36(g))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"scroll-bg"],[1,"container",2,"margin-top","50px !important"],["src","./../../assets/logopucesi.jfif","alt","",1,"logo"],[1,"mt-200"],["type","text","placeholder","Usuario",3,"ngModel","ngModelChange"],["type","password","required","","placeholder","Contrase\xf1a",1,"form-controll",3,"ngModel","ngModelChange"],["mode","ios","expand","block","type","submit",1,"submit-btn","borderR","bold",3,"click"],[1,"ion-align-items-center","full-height"],["src","./../../assets//background.jpg"]],template:function(n,t){if(1&n&&(c.YNc(0,d,12,2,"ng-container",0),c.YNc(1,p,5,0,"ng-template",null,1,c.W1O)),2&n){const n=c.MAs(2);c.Q6J("ngIf",t.solved)("ngIfElse",n)}},directives:[o.O5,i.W2,i.PM,i.FN,i.Ie,i.pK,i.j9,r.JJ,r.On,r.Q7,i.YG,i.Nd,i.wI],styles:["div.container[_ngcontent-%COMP%]{width:60%;align-items:center;display:block;text-align:center;justify-content:center;margin:auto}div.container[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{width:100%}div.container[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important;height:50%!important}div.container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-top:50px}"]}),n})()}];let m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[s.Bz.forChild(h)],s.Bz]}),n})(),f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[o.ez,r.u5,i.Pc,m,r.u5,r.UX]]}),n})()}}]);